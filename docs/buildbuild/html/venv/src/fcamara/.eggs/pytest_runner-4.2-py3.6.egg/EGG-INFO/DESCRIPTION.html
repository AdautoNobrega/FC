<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Usage &#8212; FC 0.0.1 documentation</title>
    <link rel="stylesheet" href="../../../../../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="../../../../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../../../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../../../../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../../../../../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../../../../../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../../../../../index.html">
          FC</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../../../../../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><p class="caption"><span class="caption-text">Tópicos:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../codigofonte.html">Documentação do código-fonte</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Usage</a></li>
<li><a class="reference internal" href="#example">Example</a></li>
<li><a class="reference internal" href="#standalone-example">Standalone Example</a></li>
<li><a class="reference internal" href="#considerations">Considerations</a><ul>
<li><a class="reference internal" href="#conditional-requirement">Conditional Requirement</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="../../../../../../_sources/venv/src/fcamara/.eggs/pytest_runner-4.2-py3.6.egg/EGG-INFO/DESCRIPTION.rst.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../../../../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <a class="reference external image-reference" href="https://pypi.org/project/pytest-runner"><img alt="https://img.shields.io/pypi/v/pytest-runner.svg" src="https://img.shields.io/pypi/v/pytest-runner.svg" /></a>
<img alt="https://img.shields.io/pypi/pyversions/pytest-runner.svg" src="https://img.shields.io/pypi/pyversions/pytest-runner.svg" /><a class="reference external image-reference" href="https://travis-ci.org/pytest-dev/pytest-runner"><img alt="https://img.shields.io/travis/pytest-dev/pytest-runner/master.svg" src="https://img.shields.io/travis/pytest-dev/pytest-runner/master.svg" /></a>
<p>Setup scripts can use pytest-runner to add setup.py test support for pytest
runner.</p>
<div class="section" id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li>Add ‘pytest-runner’ to your ‘setup_requires’. Pin to ‘&gt;=2.0,&lt;3dev’ (or
similar) to avoid pulling in incompatible versions.</li>
<li>Include ‘pytest’ and any other testing requirements to ‘tests_require’.</li>
<li>Invoke tests with <code class="docutils literal notranslate"><span class="pre">setup.py</span> <span class="pre">pytest</span></code>.</li>
<li>Pass <code class="docutils literal notranslate"><span class="pre">--index-url</span></code> to have test requirements downloaded from an alternate
index URL (unnecessary if specified for easy_install in setup.cfg).</li>
<li>Pass additional py.test command-line options using <code class="docutils literal notranslate"><span class="pre">--addopts</span></code>.</li>
<li>Set permanent options for the <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">pytest</span></code> command (like <code class="docutils literal notranslate"><span class="pre">index-url</span></code>)
in the <code class="docutils literal notranslate"><span class="pre">[pytest]</span></code> section of <code class="docutils literal notranslate"><span class="pre">setup.cfg</span></code>.</li>
<li>Set permanent options for the <code class="docutils literal notranslate"><span class="pre">py.test</span></code> run (like <code class="docutils literal notranslate"><span class="pre">addopts</span></code> or <code class="docutils literal notranslate"><span class="pre">pep8ignore</span></code>) in the <code class="docutils literal notranslate"><span class="pre">[pytest]</span></code>
section of <code class="docutils literal notranslate"><span class="pre">pytest.ini</span></code> or <code class="docutils literal notranslate"><span class="pre">tox.ini</span></code> or put them in the <code class="docutils literal notranslate"><span class="pre">[tool:pytest]</span></code>
section of <code class="docutils literal notranslate"><span class="pre">setup.cfg</span></code>. See <a class="reference external" href="https://github.com/pytest-dev/pytest/issues/567">pytest issue 567</a>.</li>
<li>Optionally, set <code class="docutils literal notranslate"><span class="pre">test=pytest</span></code> in the <code class="docutils literal notranslate"><span class="pre">[aliases]</span></code> section of <code class="docutils literal notranslate"><span class="pre">setup.cfg</span></code>
to cause <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">test</span></code> to invoke pytest.</li>
</ul>
</div>
<div class="section" id="example">
<h1>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h1>
<p>The most simple usage looks like this in setup.py:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">setup</span><span class="p">(</span>
    <span class="n">setup_requires</span><span class="o">=</span><span class="p">[</span>
        <span class="s1">&#39;pytest-runner&#39;</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="n">tests_require</span><span class="o">=</span><span class="p">[</span>
        <span class="s1">&#39;pytest&#39;</span><span class="p">,</span>
    <span class="p">],</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Additional dependencies require to run the tests (e.g. mock or pytest
plugins) may be added to tests_require and will be downloaded and
required by the session before invoking pytest.</p>
<p>Follow <a class="reference external" href="https://github.com/search?utf8=%E2%9C%93&amp;q=filename%3Asetup.py+pytest-runner&amp;type=Code&amp;ref=searchresults">this search on github</a>
for examples of real-world usage.</p>
</div>
<div class="section" id="standalone-example">
<h1>Standalone Example<a class="headerlink" href="#standalone-example" title="Permalink to this headline">¶</a></h1>
<p>This technique is deprecated - if you have standalone scripts
you wish to invoke with dependencies, <a class="reference external" href="https://pypi.org/project/rwt">use rwt</a>.</p>
<p>Although <code class="docutils literal notranslate"><span class="pre">pytest-runner</span></code> is typically used to add pytest test
runner support to maintained packages, <code class="docutils literal notranslate"><span class="pre">pytest-runner</span></code> may
also be used to create standalone tests. Consider <a class="reference external" href="https://gist.github.com/jaraco/d979a558bc0bf2194c23">this example
failure</a>,
reported in <a class="reference external" href="https://github.com/jsonpickle/jsonpickle/issues/117">jsonpickle #117</a>
or <a class="reference external" href="https://gist.github.com/jaraco/0b9e482f5c0a1300dc9a">this MongoDB test</a>
demonstrating a technique that works even when dependencies
are required in the test.</p>
<p>Either example file may be cloned or downloaded and simply run on
any system with Python and Setuptools. It will download the
specified dependencies and run the tests. Afterward, the the
cloned directory can be removed and with it all trace of
invoking the test. No other dependencies are needed and no
system configuration is altered.</p>
<p>Then, anyone trying to replicate the failure can do so easily
and with all the power of pytest (rewritten assertions,
rich comparisons, interactive debugging, extensibility through
plugins, etc).</p>
<p>As a result, the communication barrier for describing and
replicating failures is made almost trivially low.</p>
</div>
<div class="section" id="considerations">
<h1>Considerations<a class="headerlink" href="#considerations" title="Permalink to this headline">¶</a></h1>
<div class="section" id="conditional-requirement">
<h2>Conditional Requirement<a class="headerlink" href="#conditional-requirement" title="Permalink to this headline">¶</a></h2>
<p>Because it uses Setuptools setup_requires, pytest-runner will install itself
on every invocation of setup.py. In some cases, this causes delays for
invocations of setup.py that will never invoke pytest-runner. To help avoid
this contingency, consider requiring pytest-runner only when pytest
is invoked:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">needs_pytest</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;pytest&#39;</span><span class="p">,</span> <span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="s1">&#39;ptr&#39;</span><span class="p">}</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>
<span class="n">pytest_runner</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;pytest-runner&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="n">needs_pytest</span> <span class="k">else</span> <span class="p">[]</span>

<span class="c1"># ...</span>

<span class="n">setup</span><span class="p">(</span>
    <span class="c1">#...</span>
    <span class="n">setup_requires</span><span class="o">=</span><span class="p">[</span>
        <span class="c1">#... (other setup requirements)</span>
    <span class="p">]</span> <span class="o">+</span> <span class="n">pytest_runner</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2018, Adauto Nóbrega.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.4.<br/>
    </p>
  </div>
</footer>
  </body>
</html>